/*! (c) Andrea Giammarchi */
let e=null;const t=t=>{let n=e;e=new Set,t();for(const t of e)n?n.add(t):t();e=n};let n=null;const r=e=>{const t=n;n=e,e(),n=t},o=new WeakMap,l=t=>{const r={valueOf:a,peek:a,toString:a,get value(){return n&&o.get(this).add(n),t},set value(n){t=n;for(const t of o.get(this))e?e.add(t):t()}};return o.set(r,new Set),r},u=e=>({valueOf:a,toString:a,get value(){return e()},set value(e){throw new Error("computed are read-only")}});function a(){return this.value}export{t as batch,u as computed,r as effect,l as signal};
