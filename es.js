/*! (c) Andrea Giammarchi */
let t=null;const e=e=>{let n=t;t=new Set;try{e();for(const e of t)n?n.add(e):e()}finally{t=n}};let n=null;const r=t=>{const e=n;n=t;try{t()}finally{n=e}},l=new WeakMap,o=e=>{const r={valueOf:u,peek:u,toString:u,get value(){return n&&l.get(this).add(n),e},set value(n){e=n;for(const e of l.get(this))t?t.add(e):e()}};return l.set(r,new Set),r},a=t=>({valueOf:u,toString:u,get value(){return t()},set value(t){throw new Error("computed are read-only")}});function u(){return this.value}export{e as batch,a as computed,r as effect,o as signal};
