/*! (c) Andrea Giammarchi */
let t=null;const e=e=>{const n=t;t=new Set;try{e();for(const e of t)n?n.add(e):e()}finally{t=n}};let n=null;const r=t=>{const e=n;n=t;try{t()}finally{n=e}},o=new WeakMap,l=e=>{const r={peek:u,toString:u,valueOf:u,get value(){return n&&o.get(this).add(n),e},set value(n){e=n;for(const e of o.get(this))t?t.add(e):e()}};return o.set(r,new Set),r},a=t=>({toString:u,valueOf:u,get value(){return t()},set value(t){throw new Error("computed are read-only")}});function u(){return this.value}export{e as batch,a as computed,r as effect,l as signal};
